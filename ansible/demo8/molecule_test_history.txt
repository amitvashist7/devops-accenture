    1  apt-get update
    2  apt-get install     apt-transport-https     ca-certificates     curl     gnupg2     software-properties-common
    3  curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
    4  add-apt-repository    "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"
    5  apt-get update ;apt-get install docker-ce -y
    6  apt-get install python python-pip ansible -y 
    7  ls
    8  python -m pip install virtualenv
    9  python -m virtualenv my_venv
   10  ls
   11  source /root/my_venv/bin/activate
   12  python -m pip install molecule docker ansible 
   13  history 
   14  git clone https://github.com/amitvashist7/devops-accenture.git
   15  ls
   16  cd devops-accenture/
   17  ls
   18  git clone https://github.com/amitvashist7/devops-accenture.git branch prod
   19  cd ..
   20  ls
   21  cd devops-accenture/
   22  ls
   23  git branch
   24  cd ..
   25  ls
   26  git clone -b prod https://github.com/amitvashist7/devops-accenture.git 
   27  git clone -b prod -- single-branch https://github.com/amitvashist7/devops-accenture.git 
   28  git clone -b prod --single-branch https://github.com/amitvashist7/devops-accenture.git 
   29  ls
   30  cd devops-accenture/
   31  ls
   32  cd ..
   33  ls
   34  rm -rf devops-accenture
   35  ls
   36  git clone --help https://github.com/amitvashist7/devops-accenture.git 
   37  git branch: 'prod', url: 'https://github.com/amitvashist7/devops-accenture.git'
   38  git branch 'prod' https://github.com/amitvashist7/devops-accenture.git
   39  git --branch 'prod' https://github.com/amitvashist7/devops-accenture.git
   40  git clone --branch 'prod' https://github.com/amitvashist7/devops-accenture.git
   41  ls
   42  cd devops-accenture/
   43  ls
   44  mkdir  molecule
   45  cd molecule/
   46  ls
   47  history > molecule_setup_hist.txt
   48  vim molecule_setup_hist.txt 
   49  git add . 
   50  git commit -m "Molecule"
   51  git push origin prod
   52  ls
   53  lsls
   54  cd ..
   55  ls
   56  cd ansible/demo8/ls
   57  cd ansible/demo8/
   58  ls
   59  cd roles/
   60  ls
   61  cd webserver/
   62  ls
   63  cd ..
   64  ls
   65  molecule init role -r apache -d docker
   66  cd apache/
   67  ls
   68  cd molecule/
   69  ls
   70  cd default/
   71  ls
   72  cat playbook.yml 
   73  ls
   74  vim molecule.yml 
   75  ls
   76  cd ..
   77  ls
   78  cd ..
   79  ls
   80  cd ..
   81  ls
   82  cd apache/
   83  ls
   84  cp -rf ../webserver/tasks/main.yml tasks/main.yml 
   85  ls
   86  cp -rf ../webserver/vars/main.yml vars/main.yml 
   87  ls
   88  vim tasks/main.yml 
   89  vim vars/main.yml 
   90  vim molecule/default/molecule.yml 
   91  ls
   92  mkdir templates
   93  echo "Hello World" > templates/index.html
   94  echo "Hello World" > templates/index.j2
   95  echo "Welcome to Molecule" > templates/info.j2
   96  ls
   97  cd molecule/
   98  ls
   99  cd default/
  100  ls
  101  cd tests/
  102  ls
  103  vim test_default.py
  104  ls
  105  cd ..
  106  ls
  107  cd ..
  108  ls
  109  molecule test
  110  ls
  111  cat ../webserver/handlers/main.yml 
  112  cp -rf  ../webserver/handlers/main.yml handlers/
  113  molecule test
  114  ls
  115  cat tasks/main.yml 
  116  cat vars/main.yml 
  117  vi vars/main.yml 
  118  molecule test
  119  cd ..
  120  ls
  121  cd ..
  122  ls
  123  cd ..
  124  ls
  125  cd molecule/
  126  ls
  127  cd ..
  128  ls
  129  cd ansible/
  130  ls
  131  cd demo8/
  132  ls
  133  history > molecule_test_history.txt
  134  git add . 
  135  git commit -m "Molecule Test"
  136  git push origin prod
  137  ls
  138  cd roles/
  139  ls
  140  cd apache/
  141  ls
  142  cd molecule/default/tests/__pycache__/
  143  cd ..
  144  ls
  145  vim test_default.py
  146  pip install boto 
  147  pip install boto3
  148  pip install awscli
  149  aws configure
  150  aws describe-subnet
  151  aws describe subnet
  152  aws subnet describe
  153  aws ec2 describe-subnets
  154  ls
  155  cd ..
  156  ls
  157  cd ..
  158  ls
  159  molecule init scenario --driver-name ec2 --role-name apache --scenario-name aws-ec2-apache
  160  ls
  161  cd molecule/
  162  ls
  163  cd aws-ec2-apache/
  164  ls
  165  vim molecule.yml 
  166  ls
  167  cp -rf ../default/tests/test_default.py tests/
  168  ls
  169  cd ..
  170  ls
  171  molecule test -s aws-ec2-apache
  172  ls
  173  aws ec2 describe-subnets
  174  vim molecule/aws-ec2-apache/molecule.yml 
  175  ls
  176  vim molecule/aws-ec2-apache/create.yml 
  177  molecule test -s aws-ec2-apache 
  178  ls
  179  molecule test -s aws-ec2-apache 
  180  ls
  181  vim templates/info.j2 
  182  vim templates/index.j2 
  183  export EC2_REGION=ap-south-1
  184  molecule test -s aws-ec2-apache 
  185  ls
  186  cd tasks/
  187  ls
  188  cat main.yml 
  189  cd ..
  190  ls
  191  cd molecule/
  192  ls
  193  cd aws-ec2-apache/
  194  ls
  195  vim playbook.yml 
  196  ls
  197  cd ..
  198  ls
  199  cd ..
  200  ls
  201  molecule test -s aws-ec2-apache 
  202  vi molecule/aws-ec2-apache/playbook.yml 
  203  molecule test -s aws-ec2-apache 
  204  ls
  205  vim molecule/aws-ec2-apache/molecule.yml 
  206  molecule test -s aws-ec2-apache 
  207  ls
  208  cd ..
  209  ls
  210  cd ..
  211  ls
  212  cd ..
  213  ls
  214  cd - 
  215  ls
  216  history > molecule_test_history.txt 
